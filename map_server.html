
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3c.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="http://ogp.me/ns/fb#">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <title>NavigationStack - map_server</title>

    <script src="_static/jquery-1.7.1.min.js"></script>
    <script src="_static/bootstrap-modal.js"></script>
    <script src="_static/bootstrap-collapse.js"></script>
    <script src="_static/bootstrap-dropdown.js"></script>

    <link rel="stylesheet" href="_static/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-responsive.css" type="text/css" />
    <link rel="stylesheet" href="_static/template.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />


</head>
<body>
    <div id="fb-root"></div>
    
    <div class="container-fluid">
        <div class="hero-unit">
            <div class="page-header">
                <a href="index.html"><font color="#000000">Navigation Stack</font></a>
                <br/>
            </div>
        </div>
        <div class="row-fluid">
            <div class="span3">
                <div class="well sidebar-nav">
                    <ul class="nav nav-list">
                        <h3>コンテンツ</h3>
                        <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">はじめに</a></li>
<li class="toctree-l1"><a class="reference internal" href="navigation_overview.html">Navigation Stack概要</a><ul>
<li class="toctree-l2"><a class="reference internal" href="navigation_overview.html#id1">Navigation Stackとは</a></li>
<li class="toctree-l2"><a class="reference internal" href="navigation_overview.html#id2">Navigation Stackの入出力</a><ul>
<li class="toctree-l3"><a class="reference internal" href="navigation_overview.html#transform-tree">Transform Tree</a></li>
<li class="toctree-l3"><a class="reference internal" href="navigation_overview.html#id4">測域センサ情報（レーザースキャン）</a></li>
<li class="toctree-l3"><a class="reference internal" href="navigation_overview.html#id6">測域センサ情報（ポイントクラウド）</a></li>
<li class="toctree-l3"><a class="reference internal" href="navigation_overview.html#id8">オドメトリ情報</a></li>
<li class="toctree-l3"><a class="reference internal" href="navigation_overview.html#id10">地図</a></li>
<li class="toctree-l3"><a class="reference internal" href="navigation_overview.html#id12">駆動（速度）命令</a></li>
<li class="toctree-l3"><a class="reference internal" href="navigation_overview.html#id14">その他のメッセージ型</a></li>
<li class="toctree-l3"><a class="reference internal" href="navigation_overview.html#id22">サービス型</a></li>
<li class="toctree-l3"><a class="reference internal" href="navigation_overview.html#id26">アクション型</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="packages.html">各パッケージ仕様</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="packages.html#move-base">move_baseメイン</a><ul>
<li class="toctree-l3"><a class="reference internal" href="move_base.html">move_base</a></li>
<li class="toctree-l3"><a class="reference internal" href="nav_core.html">nav_core</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="packages.html#id2">自己位置推定関連</a><ul>
<li class="toctree-l3"><a class="reference internal" href="amcl.html">amcl</a></li>
<li class="toctree-l3"><a class="reference internal" href="fake_localization.html">fake_localization</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="packages.html#id3">地図配信</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">map_server</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="packages.html#id4">コストマップ関連</a><ul>
<li class="toctree-l3"><a class="reference internal" href="costmap_2d.html">costmap_2d</a></li>
<li class="toctree-l3"><a class="reference internal" href="voxel_grid.html">voxel_grid</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="packages.html#id5">グローバルプランナー関連</a><ul>
<li class="toctree-l3"><a class="reference internal" href="navfn.html">nav_fn</a></li>
<li class="toctree-l3"><a class="reference internal" href="global_planner.html">global_planner</a></li>
<li class="toctree-l3"><a class="reference internal" href="carrot_planner.html">carrot_planner</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="packages.html#id6">ローカルプランナー関連</a><ul>
<li class="toctree-l3"><a class="reference internal" href="base_local_planner.html">base_local_planner</a></li>
<li class="toctree-l3"><a class="reference internal" href="dwa_local_planner.html">dwa_local_planner</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="packages.html#id7">リカバリー動作関連</a><ul>
<li class="toctree-l3"><a class="reference internal" href="clear_costmap_recovery.html">clear_costmap_recovery</a></li>
<li class="toctree-l3"><a class="reference internal" href="rotate_recovery.html">rotate_recovery</a></li>
<li class="toctree-l3"><a class="reference internal" href="move_slow_and_clear.html">move_slow_and_clear</a></li>
</ul>
</li>
</ul>
</li>
</ul>

                    </ul>
                </div>
            </div>
            <div class="span8">
<div class="section" id="map-server">
<h1>map_server<a class="headerlink" href="#map-server" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>目次</p>
<div class="line-block">
<div class="line">　1. <a class="reference internal" href="#navigation-map-server-over-view"><span class="std std-ref">概要</span></a></div>
<div class="line">　2. <a class="reference internal" href="#navigation-map-server-map-format"><span class="std std-ref">地図フォーマット</span></a></div>
<div class="line">　　2.1 <a class="reference internal" href="#navigation-map-server-img-format"><span class="std std-ref">画像フォーマット</span></a></div>
<div class="line">　　2.2 <a class="reference internal" href="#navigation-map-server-yaml-format"><span class="std std-ref">YAML形式</span></a></div>
<div class="line">　　2.3 <a class="reference internal" href="#navigation-map-server-value"><span class="std std-ref">値の解釈</span></a></div>
<div class="line">　　　2.3.1 <a class="reference internal" href="#navigation-map-server-trinary"><span class="std std-ref">Trinary</span></a></div>
<div class="line">　　　2.3.2 <a class="reference internal" href="#navigation-map-server-scale"><span class="std std-ref">Scale</span></a></div>
<div class="line">　　　2.3.3 <a class="reference internal" href="#navigation-map-server-raw"><span class="std std-ref">Raw</span></a></div>
<div class="line">　3. <a class="reference internal" href="#navigation-map-server-command"><span class="std std-ref">コマンドラインツール</span></a></div>
<div class="line">　　3.1 <a class="reference internal" href="#navigation-map-server-command-map-server"><span class="std std-ref">map_server</span></a></div>
<div class="line">　　　3.1.1 <a class="reference internal" href="#navigation-map-server-command-usage"><span class="std std-ref">Usage</span></a></div>
<div class="line">　　　3.1.2 <a class="reference internal" href="#navigation-map-server-command-example"><span class="std std-ref">Example</span></a></div>
<div class="line">　　　3.1.3 <a class="reference internal" href="#navigation-map-server-command-published"><span class="std std-ref">Published Topics</span></a></div>
<div class="line">　　　3.1.4 <a class="reference internal" href="#navigation-map-server-command-service"><span class="std std-ref">Services</span></a></div>
<div class="line">　　　3.1.5 <a class="reference internal" href="#navigation-map-server-command-param"><span class="std std-ref">パラメータ</span></a></div>
<div class="line">　　3.2 <a class="reference internal" href="#navigation-map-server-command-map-sarver"><span class="std std-ref">map_saver</span></a></div>
<div class="line">　　　3.2.1 <a class="reference internal" href="#navigation-map-server-command-usage2"><span class="std std-ref">Usage</span></a></div>
<div class="line">　　　3.2.2 <a class="reference internal" href="#navigation-map-server-command-example2"><span class="std std-ref">Example</span></a></div>
<div class="line">　　　3.2.3 <a class="reference internal" href="#navigation-map-server-command-subscribed"><span class="std std-ref">Subscribed Topics</span></a></div>
<div class="line"><br /></div>
</div>
<div class="section" id="navigation-map-server-over-view">
<span id="id1"></span><h2>1. 概要<a class="headerlink" href="#navigation-map-server-over-view" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="line-block">
<div class="line">　map_serverは、地図データをROSサービスとして提供するmap_server ROSノードを提供します。また、動的に生成された地図をファイルに保存できるmap_saverコマンドラインユーティリティも提供します。</div>
<div class="line"><br /></div>
</div>
<ul class="simple">
<li>管理状態：管理済み</li>
<li>管理者：David V. Lu !! &lt;Davidvlu AT gmail DOT com&gt;、Michael Ferguson &lt;mfergs7 AT gmail DOT com&gt;、Aaron Hoy &lt;ahoy AT fetchrobotics DOT com&gt;</li>
<li>著者：Brian Gerkey, Tony Pratkanis, <a class="reference external" href="mailto:contradict&#37;&#52;&#48;gmail&#46;com">contradict<span>&#64;</span>gmail<span>&#46;</span>com</a></li>
<li>ライセンス：BSD</li>
<li>ソース：git <a class="reference external" href="https://github.com/ros-planning/navigation.git">https://github.com/ros-planning/navigation.git</a> (branch: melodic-devel)</li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="navigation-map-server-map-format">
<span id="id2"></span><h2>2. 地図フォーマット<a class="headerlink" href="#navigation-map-server-map-format" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="line-block">
<div class="line">　このパッケージのツールで操作される地図は、1組のファイルに保存されます。YAMLファイルは、地図のメタデータを記述し、画像ファイルに名前を付けます。画像ファイルは占有データをエンコードします。</div>
<div class="line"><br /></div>
</div>
<div class="section" id="navigation-map-server-img-format">
<span id="id3"></span><h3>2.1 画像フォーマット<a class="headerlink" href="#navigation-map-server-img-format" title="このヘッドラインへのパーマリンク">¶</a></h3>
<div class="line-block">
<div class="line">　地図で使用する画像は、空間の各セルの占有状態を、対応するピクセルの色で示しています。標準構成では、白いピクセルは占有されていないセル、黒いピクセルは占有されているセル、その間（グレー）のピクセルは未知のセルです。カラー画像は受け入れられますが、カラー値はグレー値に平均化されます。</div>
<div class="line"><br /></div>
<div class="line">　画像データは <a class="reference external" href="http://www.libsdl.org/projects/SDL_image/docs/index.html">SDL_Image</a> を介して読み込まれます。 サポートされる形式は、プラットフォームによってSDL_Imageが提供するものが異なります。 一般的な画像形式は広くサポートされていますが、例外として、PNGはOS Xでサポートされていません。</div>
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="yaml">
<span id="navigation-map-server-yaml-format"></span><h3>2.2 YAML形式<a class="headerlink" href="#yaml" title="このヘッドラインへのパーマリンク">¶</a></h3>
<div class="line-block">
<div class="line">　YAML形式は、以下の簡単な例で全てのフィールドを説明できます。</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">image</span><span class="p">:</span> <span class="n">testmap</span><span class="o">.</span><span class="n">png</span>
<span class="n">resolution</span><span class="p">:</span> <span class="mf">0.1</span>
<span class="n">origin</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span>
<span class="n">occupied_thresh</span><span class="p">:</span> <span class="mf">0.65</span>
<span class="n">free_thresh</span><span class="p">:</span> <span class="mf">0.196</span>
<span class="n">negate</span><span class="p">:</span> <span class="mi">0</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">必須フィールド:</div>
</div>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">フィールド名</th>
<th class="head">内容</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>image</td>
<td>占有データを含む画像ファイルへのパス。 絶対パス、またはYAMLファイルの場所からの相対パスを設定可能。</td>
</tr>
<tr class="row-odd"><td>resolution</td>
<td>地図の解像度（単位はm/pixel）。</td>
</tr>
<tr class="row-even"><td>origin</td>
<td>（x、y、yaw）のような地図の左下のピクセルからの2D姿勢で、yawは反時計回りに回転します（yaw = 0は回転しないことを意味します）。現在、システムの多くの部分ではyawを無視しています。</td>
</tr>
<tr class="row-odd"><td>occupied_thresh</td>
<td>この閾値よりも大きい占有確率を持つピクセルは、完全に占有されていると見なされます。</td>
</tr>
<tr class="row-even"><td>free_thresh</td>
<td>占有確率がこの閾値未満のピクセルは、完全に占有されていないと見なされます。</td>
</tr>
<tr class="row-odd"><td>negate</td>
<td>白/黒について、空き/占有の意味を逆にする必要があるかどうか（閾値の解釈は影響を受けません）</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
<div class="line">オプションパラメータ</div>
</div>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">オプション名</th>
<th class="head">内容</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>mode</td>
<td>trinary, scale, raw の3つの値のうち、いずれかを指定できます。Trinaryがデフォルトです。これにより値の解釈がどのように変化するかについての詳細は、次のセクションで説明します。</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="navigation-map-server-value">
<span id="id4"></span><h3>2.3 値の解釈<a class="headerlink" href="#navigation-map-server-value" title="このヘッドラインへのパーマリンク">¶</a></h3>
<div class="line-block">
<div class="line">　範囲[0, 256）のCOLOR値xを持つピクセルが与えられた場合、ROSメッセージに入れるときにこの値をどのように解釈する必要があるかについて説明します。最初に、yamlのnegateフラグの解釈に応じて、整数xを浮動小数点数pに変換します。</div>
<div class="line"><br /></div>
<div class="line">　• negateがfalseの場合：　 p = (255 - x) / 255.0</div>
<div class="line">　　　　これは、黒（0）が最高値（1.0）になり、白（255）が最低値（0.0）になることを意味します。</div>
<div class="line">　• negateがtrueの場合：　p = x / 255.0</div>
<div class="line">　　　　これは画像の非標準的な解釈です。xが否定されていないことを数学が示しているにもかかわらず、negate(否定）と呼ばれるのはこのためです。</div>
<div class="line"><br /></div>
</div>
<div class="section" id="trinary">
<span id="navigation-map-server-trinary"></span><h4>2.3.1 Trinary<a class="headerlink" href="#trinary" title="このヘッドラインへのパーマリンク">¶</a></h4>
<div class="line-block">
<div class="line">　標準的な解釈は3項(Trinary)解釈です。つまり、すべての値を解釈して、出力が3つの値のいずれかになるようにします。</div>
<div class="line"><br /></div>
<div class="line">　• p &gt; occupied_thresh の場合：　セルが占有されていることを示す値100を出力します。</div>
<div class="line">　• p &lt; free_thresh の場合：　値0を出力して、セルが占有されていないことを示します。</div>
<div class="line">　• それ以外の場合：　-1 （unsigned charの場合 255）を出力して、セルが不明であることを示します。</div>
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="scale">
<span id="navigation-map-server-scale"></span><h4>2.3.2 Scale<a class="headerlink" href="#scale" title="このヘッドラインへのパーマリンク">¶</a></h4>
<div class="line-block">
<div class="line">　このモードは、上記の解釈を微調整して、3項よりも多くの出力値を許可します。</div>
<div class="line"><br /></div>
<div class="line">　• Trinaryと同様に、p &gt; occupied_threshの場合、値100を出力します。p &lt; free_thresh の場合、値0を出力します。</div>
<div class="line">　• それ以外の場合：　99 * (p - free_thresh) / (occupied_thresh - free_thresh) を出力します。</div>
<div class="line"><br /></div>
<div class="line">　これにより、[0, 100]の範囲の値の完全な勾配を出力できます。-1を出力するには、PNGのアルファチャネルを使用します。この場合、透明度は不明と解釈されます。</div>
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="raw">
<span id="navigation-map-server-raw"></span><h4>2.3.3 Raw<a class="headerlink" href="#raw" title="このヘッドラインへのパーマリンク">¶</a></h4>
<div class="line-block">
<div class="line">　このモードは各ピクセルに対してxを出力するため、出力値は[0, 255]です。</div>
<div class="line"><br /></div>
</div>
</div>
</div>
</div>
<div class="section" id="navigation-map-server-command">
<span id="id5"></span><h2>3. コマンドラインツール<a class="headerlink" href="#navigation-map-server-command" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="navigation-map-server-command-map-server">
<span id="id6"></span><h3>3.1 map_server<a class="headerlink" href="#navigation-map-server-command-map-server" title="このヘッドラインへのパーマリンク">¶</a></h3>
<div class="line-block">
<div class="line">　map_serverは、ディスクから地図を読み取り、ROSサービス経由で地図を提供するROSノードです。map_serverの現在の実装は、マップイメージデータの色の値を、3つの占有値（空き（0）、占有（100）、不明（-1））に変換します。このツールの今後のバージョンでは、0〜100の値を使用して、より細かい占有率のグラデーションを伝達する可能性があります。</div>
<div class="line"><br /></div>
</div>
<div class="section" id="usage">
<span id="navigation-map-server-command-usage"></span><h4>3.1.1 Usage<a class="headerlink" href="#usage" title="このヘッドラインへのパーマリンク">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">map_server</span> <span class="o">&lt;</span><span class="nb">map</span><span class="o">.</span><span class="n">yaml</span><span class="o">&gt;</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="example">
<span id="navigation-map-server-command-example"></span><h4>3.1.2 Example<a class="headerlink" href="#example" title="このヘッドラインへのパーマリンク">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rosrun</span> <span class="n">map_server</span> <span class="n">map_server</span> <span class="n">mymap</span><span class="o">.</span><span class="n">yaml</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">地図データは、ラッチされたトピック（新しいサブスクライバーごとに1回送信されることを意味する）またはサービスを介して取得できることに注意してください。サービスは最終的に廃止される可能性があります。</div>
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="published-topics">
<span id="navigation-map-server-command-published"></span><h4>3.1.3 Published Topics<a class="headerlink" href="#published-topics" title="このヘッドラインへのパーマリンク">¶</a></h4>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="11%" />
<col width="22%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">トピック名</th>
<th class="head">型</th>
<th class="head">内容</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>map_metadata</td>
<td><a class="reference external" href="http://docs.ros.org/api/nav_msgs/html/msg/MapMetaData.html">nav_msgs/MapMetaData</a></td>
<td>このラッチされたトピックを介して地図のメタデータを受信します。</td>
</tr>
<tr class="row-odd"><td>map</td>
<td><a class="reference external" href="http://docs.ros.org/api/nav_msgs/html/msg/OccupancyGrid.html">nav_msgs/OccupancyGrid</a></td>
<td>このラッチされたトピックを介して地図を受信します。</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="services">
<span id="navigation-map-server-command-service"></span><h4>3.1.4 Services<a class="headerlink" href="#services" title="このヘッドラインへのパーマリンク">¶</a></h4>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="11%" />
<col width="22%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">トピック名</th>
<th class="head">型</th>
<th class="head">内容</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>static_map</td>
<td><a class="reference external" href="http://docs.ros.org/api/nav_msgs/html/srv/GetMap.html">nav_msgs/GetMap</a></td>
<td>このサービスを介して地図を取得します。</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="navigation-map-server-command-param">
<span id="id7"></span><h4>3.1.5 パラメータ<a class="headerlink" href="#navigation-map-server-command-param" title="このヘッドラインへのパーマリンク">¶</a></h4>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="7%" />
<col width="68%" />
<col width="7%" />
<col width="7%" />
<col width="11%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">パラメータ名</th>
<th class="head">内容</th>
<th class="head">型</th>
<th class="head">単位</th>
<th class="head">デフォルト</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>~frame_id</td>
<td>パブリッシュされた地図のヘッダーに設定するフレーム。</td>
<td>string</td>
<td>－</td>
<td>map</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>
<div class="section" id="map-saver">
<span id="navigation-map-server-command-map-sarver"></span><h3>3.2 map_saver<a class="headerlink" href="#map-saver" title="このヘッドラインへのパーマリンク">¶</a></h3>
<div class="line-block">
<div class="line">　map_saverは、たとえばSLAMマッピングサービスからディスクに地図を保存します。</div>
<div class="line"><br /></div>
</div>
<div class="section" id="navigation-map-server-command-usage2">
<span id="id8"></span><h4>3.2.1 Usage<a class="headerlink" href="#navigation-map-server-command-usage2" title="このヘッドラインへのパーマリンク">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rosrun</span> <span class="n">map_server</span> <span class="n">map_saver</span> <span class="p">[</span><span class="o">--</span><span class="n">occ</span> <span class="o">&lt;</span><span class="n">threshold_occupied</span><span class="o">&gt;</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">free</span> <span class="o">&lt;</span><span class="n">threshold_free</span><span class="o">&gt;</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">f</span> <span class="o">&lt;</span><span class="n">mapname</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">map_saverは地図データを取得し、map.pgmおよびmap.yamlに書き込みます。-fオプションを使用して、出力ファイルに異なるベース名を指定します。--occおよび--freeオプションは、0〜100の値を取ります。</div>
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="navigation-map-server-command-example2">
<span id="id9"></span><h4>3.2.2 Example<a class="headerlink" href="#navigation-map-server-command-example2" title="このヘッドラインへのパーマリンク">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rosrun</span> <span class="n">map_server</span> <span class="n">map_saver</span> <span class="o">-</span><span class="n">f</span> <span class="n">mymap</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="subscribed-topics">
<span id="navigation-map-server-command-subscribed"></span><h4>3.2.3 Subscribed Topics<a class="headerlink" href="#subscribed-topics" title="このヘッドラインへのパーマリンク">¶</a></h4>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="11%" />
<col width="22%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">トピック名</th>
<th class="head">型</th>
<th class="head">内容</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>map</td>
<td><a class="reference external" href="http://docs.ros.org/api/nav_msgs/html/msg/OccupancyGrid.html">nav_msgs/OccupancyGrid</a></td>
<td>地図は、このラッチされたトピックを介して取得されます。</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>
</div>
</div>


            </div>
        </div>
        <div class='footer'>
            <ul>
            <li><div class="copyright align-left">This document is licensed under the <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0</a></div></li>
            <li><div class="copyright align-right">Copyright © National Institute of Advanced Industrial Science and Technology （AIST）<br/> （Japan Corporate Number 7010005005425）. All rights reserved.</div></li>
            </ul>
            <br />
        </div>
    </div>
</body>
</html>