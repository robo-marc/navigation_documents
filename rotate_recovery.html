
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3c.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="http://ogp.me/ns/fb#">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <title>NavigationStack - rotate_recovery</title>

    <script src="_static/jquery-1.7.1.min.js"></script>
    <script src="_static/bootstrap-modal.js"></script>
    <script src="_static/bootstrap-collapse.js"></script>
    <script src="_static/bootstrap-dropdown.js"></script>

    <link rel="stylesheet" href="_static/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-responsive.css" type="text/css" />
    <link rel="stylesheet" href="_static/template.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />


</head>
<body>
    <div id="fb-root"></div>
    
    <div class="container-fluid">
        <div class="hero-unit">
            <div class="page-header">
                <a href="index.html"><font color="#000000">Navigation Stack</font></a>
                <br/>
            </div>
        </div>
        <div class="row-fluid">
            <div class="span3">
                <div class="well sidebar-nav">
                    <ul class="nav nav-list">
                        <h3>コンテンツ</h3>
                        <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">はじめに</a></li>
<li class="toctree-l1"><a class="reference internal" href="navigation_overview.html">Navigation Stack概要</a><ul>
<li class="toctree-l2"><a class="reference internal" href="navigation_overview.html#id1">Navigation Stackとは</a></li>
<li class="toctree-l2"><a class="reference internal" href="navigation_overview.html#id2">Navigation Stackの入出力</a><ul>
<li class="toctree-l3"><a class="reference internal" href="navigation_overview.html#transform-tree">Transform Tree</a></li>
<li class="toctree-l3"><a class="reference internal" href="navigation_overview.html#id4">測域センサ情報（レーザースキャン）</a></li>
<li class="toctree-l3"><a class="reference internal" href="navigation_overview.html#id6">測域センサ情報（ポイントクラウド）</a></li>
<li class="toctree-l3"><a class="reference internal" href="navigation_overview.html#id8">オドメトリ情報</a></li>
<li class="toctree-l3"><a class="reference internal" href="navigation_overview.html#id10">地図</a></li>
<li class="toctree-l3"><a class="reference internal" href="navigation_overview.html#id12">駆動（速度）命令</a></li>
<li class="toctree-l3"><a class="reference internal" href="navigation_overview.html#id14">その他のメッセージ型</a></li>
<li class="toctree-l3"><a class="reference internal" href="navigation_overview.html#id22">サービス型</a></li>
<li class="toctree-l3"><a class="reference internal" href="navigation_overview.html#id26">アクション型</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="packages.html">各パッケージ仕様</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="packages.html#move-base">move_baseメイン</a><ul>
<li class="toctree-l3"><a class="reference internal" href="move_base.html">move_base</a></li>
<li class="toctree-l3"><a class="reference internal" href="nav_core.html">nav_core</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="packages.html#id2">自己位置推定関連</a><ul>
<li class="toctree-l3"><a class="reference internal" href="amcl.html">amcl</a></li>
<li class="toctree-l3"><a class="reference internal" href="fake_localization.html">fake_localization</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="packages.html#id3">地図配信</a><ul>
<li class="toctree-l3"><a class="reference internal" href="map_server.html">map_server</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="packages.html#id4">コストマップ関連</a><ul>
<li class="toctree-l3"><a class="reference internal" href="costmap_2d.html">costmap_2d</a></li>
<li class="toctree-l3"><a class="reference internal" href="voxel_grid.html">voxel_grid</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="packages.html#id5">グローバルプランナー関連</a><ul>
<li class="toctree-l3"><a class="reference internal" href="navfn.html">nav_fn</a></li>
<li class="toctree-l3"><a class="reference internal" href="global_planner.html">global_planner</a></li>
<li class="toctree-l3"><a class="reference internal" href="carrot_planner.html">carrot_planner</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="packages.html#id6">ローカルプランナー関連</a><ul>
<li class="toctree-l3"><a class="reference internal" href="base_local_planner.html">base_local_planner</a></li>
<li class="toctree-l3"><a class="reference internal" href="dwa_local_planner.html">dwa_local_planner</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="packages.html#id7">リカバリー動作関連</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="clear_costmap_recovery.html">clear_costmap_recovery</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">rotate_recovery</a></li>
<li class="toctree-l3"><a class="reference internal" href="move_slow_and_clear.html">move_slow_and_clear</a></li>
</ul>
</li>
</ul>
</li>
</ul>

                    </ul>
                </div>
            </div>
            <div class="span8">
<div class="section" id="rotate-recovery">
<h1>rotate_recovery<a class="headerlink" href="#rotate-recovery" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>目次</p>
<div class="line-block">
<div class="line">　1. <a class="reference internal" href="#rotate-recovery-pkgsummary"><span class="std std-ref">概要</span></a></div>
<div class="line">　2. <a class="reference internal" href="#rotate-recovery-overview"><span class="std std-ref">rotate_recovery概要</span></a></div>
<div class="line">　3. <a class="reference internal" href="#rotate-recovery-rotate-recovery"><span class="std std-ref">RotateRecovery</span></a></div>
<div class="line">　　3.1 <a class="reference internal" href="#rotate-recovery-api"><span class="std std-ref">APIの安定性</span></a></div>
<div class="line">　　3.2 <a class="reference internal" href="#rotate-recovery-rosparam"><span class="std std-ref">ROSパラメータ</span></a></div>
<div class="line">　　　3.2.1 <a class="reference internal" href="#rotate-recovery-rotate-recovery-param"><span class="std std-ref">RotateRecoveryパラメータ</span></a></div>
<div class="line">　　　3.2.2 <a class="reference internal" href="#rotate-recovery-trajectory-planner-param"><span class="std std-ref">TrajectoryPlannerROSパラメータ</span></a></div>
<div class="line">　　3.3 <a class="reference internal" href="#rotate-recovery-cpp-api"><span class="std std-ref">C++ API</span></a></div>
<div class="line"><br /></div>
</div>
<div class="section" id="rotate-recovery-pkgsummary">
<span id="id1"></span><h2>1. 概要<a class="headerlink" href="#rotate-recovery-pkgsummary" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="line-block">
<div class="line">　このパッケージは、ロボットの360度回転を実行してスペースを空にしようとするNavigationスタックのリカバリ動作を提供します。</div>
</div>
<ul class="simple">
<li>管理状態：管理済み</li>
<li>管理者：David V. Lu!! &lt;davidvlu AT gmail DOT com&gt;, Michael Ferguson &lt;mfergs7 AT gmail DOT com&gt;, Aaron Hoy &lt;ahoy AT fetchrobotics DOT com&gt;</li>
<li>著者：Eitan Marder-Eppstein, <a class="reference external" href="mailto:contradict&#37;&#52;&#48;gmail&#46;com">contradict<span>&#64;</span>gmail<span>&#46;</span>com</a></li>
<li>ライセンス：BSD</li>
<li>ソース：git <a class="reference external" href="https://github.com/ros-planning/navigation.git">https://github.com/ros-planning/navigation.git</a> (branch: melodic-devel)</li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="rotate-recovery-overview">
<span id="id2"></span><h2>2. rotate_recovery概要<a class="headerlink" href="#rotate-recovery-overview" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="line-block">
<div class="line">　rotate_recovery::RotateRecoveryは、ローカルの障害物が許せばロボットを360度回転させることにより、Navigationスタックの <a class="reference internal" href="costmap_2d.html"><span class="doc">コストマップ</span></a> のスペースを空にしようとする単純なリカバリ動作です。 <a class="reference internal" href="nav_core.html"><span class="doc">nav_core</span></a> パッケージに含まれるnav_core::RecoveryBehaviorインタフェースに準拠しており、 <a class="reference internal" href="move_base.html"><span class="doc">move_base</span></a> ノードのリカバリ動作 <a class="reference external" href="http://wiki.ros.org/pluginlib">プラグイン</a> として使用できます。</div>
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="rotaterecovery">
<span id="rotate-recovery-rotate-recovery"></span><h2>3. RotateRecovery<a class="headerlink" href="#rotaterecovery" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="line-block">
<div class="line">　rotate_recovery::RotateRecoveryオブジェクトは、その機能を <a class="reference external" href="http://wiki.ros.org/navigation/ROS_Wrappers">C++ ROSラッパー</a> として公開します。これは、初期化時に指定されたROS名前空間（以降、<em>name</em>と仮表記）内で動作します。 <a class="reference internal" href="nav_core.html"><span class="doc">nav_core</span></a> パッケージにあるnav_core::RecoveryBehaviorインタフェースに準拠しています。</div>
<div class="line"><br /></div>
<div class="line">　rotate_recovery::RotateRecoveryオブジェクトの作成例：</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#include &lt;tf/transform_listener.h&gt;</span>
<span class="c1">#include &lt;costmap_2d/costmap_2d_ros.h&gt;</span>
<span class="c1">#include &lt;rotate_recovery/rotate_recovery.h&gt;</span>

<span class="o">...</span>
<span class="n">tf</span><span class="p">::</span><span class="n">TransformListener</span> <span class="n">tf</span><span class="p">(</span><span class="n">ros</span><span class="p">::</span><span class="n">Duration</span><span class="p">(</span><span class="mi">10</span><span class="p">));</span>
<span class="n">costmap_2d</span><span class="p">::</span><span class="n">Costmap2DROS</span> <span class="n">global_costmap</span><span class="p">(</span><span class="s2">&quot;global_costmap&quot;</span><span class="p">,</span> <span class="n">tf</span><span class="p">);</span>
<span class="n">costmap_2d</span><span class="p">::</span><span class="n">Costmap2DROS</span> <span class="n">local_costmap</span><span class="p">(</span><span class="s2">&quot;local_costmap&quot;</span><span class="p">,</span> <span class="n">tf</span><span class="p">);</span>

<span class="n">rotate_recovery</span><span class="p">::</span><span class="n">RotateRecovery</span> <span class="n">rr</span><span class="p">;</span>
<span class="n">rr</span><span class="o">.</span><span class="n">initialize</span><span class="p">(</span><span class="s2">&quot;my_rotate_recovery&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">tf</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">global_costmap</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">local_costmap</span><span class="p">);</span>

<span class="n">rr</span><span class="o">.</span><span class="n">runBehavior</span><span class="p">();</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="section" id="api">
<span id="rotate-recovery-api"></span><h3>3.1 APIの安定性<a class="headerlink" href="#api" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li>C++ APIは安定しています。</li>
<li>ROS APIは安定しています。</li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="ros">
<span id="rotate-recovery-rosparam"></span><h3>3.2 ROSパラメータ<a class="headerlink" href="#ros" title="このヘッドラインへのパーマリンク">¶</a></h3>
<div class="line-block">
<div class="line">　rotate_recovery::RotateRecoveryオブジェクトは、 <a class="reference internal" href="move_base.html"><span class="doc">move_base</span></a> ノードで使用されるローカルプランナーがbase_local_planner::TrajectoryPlannerROSであると想定し、 <a class="reference internal" href="base_local_planner.html"><span class="doc">base_local_planner</span></a> パッケージに記載されているパラメータをいくつか読み取ります。単独で動作しますが、これには追加のパラメータを指定する必要があります。</div>
<div class="line"><br /></div>
</div>
<div class="section" id="rotate-recovery-rotate-recovery-param">
<span id="id4"></span><h4>3.2.1 RotateRecoveryパラメータ<a class="headerlink" href="#rotate-recovery-rotate-recovery-param" title="このヘッドラインへのパーマリンク">¶</a></h4>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="7%" />
<col width="68%" />
<col width="7%" />
<col width="7%" />
<col width="11%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">パラメータ名</th>
<th class="head">内容</th>
<th class="head">型</th>
<th class="head">単位</th>
<th class="head">デフォルト</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>~&lt;name&gt;/sim_granularity</td>
<td>インプレース回転が安全かどうかをチェックするときの障害物のチェック間の距離（ラジアン単位）。デフォルトは1度です。</td>
<td>double</td>
<td>rad</td>
<td>0.017</td>
</tr>
<tr class="row-odd"><td>~&lt;name&gt;/frequency</td>
<td>速度コマンドをモバイルベースに送信する周波数（Hz単位）。</td>
<td>double</td>
<td>Hz</td>
<td>20.0</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="trajectoryplannerros">
<span id="rotate-recovery-trajectory-planner-param"></span><h4>3.2.2 TrajectoryPlannerROSパラメータ<a class="headerlink" href="#trajectoryplannerros" title="このヘッドラインへのパーマリンク">¶</a></h4>
<div class="line-block">
<div class="line">　これらのパラメーターは、base_local_planner::TrajectoryPlannerROSローカルプランナーを使用するときにすでに設定されています。 <a class="reference external" href="http://wiki.ros.org/navigation">Navigationスタック</a> で別のローカルプランナーが使用されている場合、rotate_recovery::RotateRecoveryリカバリ動作に対して明示的に設定する必要があります。</div>
<div class="line"><br /></div>
</div>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="7%" />
<col width="68%" />
<col width="7%" />
<col width="7%" />
<col width="11%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">パラメータ名</th>
<th class="head">内容</th>
<th class="head">型</th>
<th class="head">単位</th>
<th class="head">デフォルト</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>~TrajectoryPlannerROS/yaw_goal_tolerance</td>
<td>目標位置に到達するときのヨー/回転のコントローラーの許容値（ラジアン単位）。</td>
<td>double</td>
<td>rad</td>
<td>0.10</td>
</tr>
<tr class="row-odd"><td>~TrajectoryPlannerROS/acc_lim_th</td>
<td>ロボットの回転加速度制限（ラジアン/秒^2単位）</td>
<td>double</td>
<td>rad/sec^2</td>
<td>3.2</td>
</tr>
<tr class="row-even"><td>~TrajectoryPlannerROS/max_rotational_vel</td>
<td>ベースに許容される最大回転速度（ラジアン/秒単位）。</td>
<td>double</td>
<td>rad/sec</td>
<td>1.0</td>
</tr>
<tr class="row-odd"><td>~TrajectoryPlannerROS/min_in_place_rotational_vel</td>
<td>インプレース回転を実行しながら、ベースに許可される最小回転速度（ラジアン/秒単位）。</td>
<td>double</td>
<td>rad/sec</td>
<td>0.4</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>
<div class="section" id="c-api">
<span id="rotate-recovery-cpp-api"></span><h3>3.3 C++ API<a class="headerlink" href="#c-api" title="このヘッドラインへのパーマリンク">¶</a></h3>
<div class="line-block">
<div class="line">　C++のrotate_recovery::RotateRecoveryクラスは、 <a class="reference internal" href="nav_core.html"><span class="doc">nav_core</span></a> パッケージにあるnav_core::RecoveryBehaviorインタフェースに準拠しています。 詳細なドキュメントについては、 <a class="reference external" href="http://www.ros.org/doc/api/rotate_recovery/html/classrotate__recovery_1_1RotateRecovery.html">RotateRecoveryのドキュメント</a> を参照してください。</div>
<div class="line"><br /></div>
</div>
</div>
</div>
</div>


            </div>
        </div>
        <div class='footer'>
            <ul>
            <li><div class="copyright align-left">This document is licensed under the <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0</a></div></li>
            <li><div class="copyright align-right">Copyright © National Institute of Advanced Industrial Science and Technology （AIST）<br/> （Japan Corporate Number 7010005005425）. All rights reserved.</div></li>
            </ul>
            <br />
        </div>
    </div>
</body>
</html>